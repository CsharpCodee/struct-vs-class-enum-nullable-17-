using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Pr17
{//1
    struct Color
    {
        public int R;
        public int G;
        public int B;

        public Color(int r, int g, int b)
        {
            R = r;
            G = g;
            B = b;
        }
        public override string ToString()
        {
            return ($"({R}, {G}, {B})");
        }
    }
    //2
    class Order
    {
        public int Id;
        public decimal Total;
    }
    //3
    public enum FileAccess {
        None = 0,
        Read = 1,
        Write = 2,
        Execute = 4
    }
    public struct File 
    {
        public FileAccess Permissions;
        public bool CanRead()
        {
            return (Permissions & FileAccess.Read) == FileAccess.Read;
        }
        public bool CanWrite()
        {
            return (Permissions & FileAccess.Write) == FileAccess.Write;
        }
    }
    //4
    struct Weather
    {
        public string City;
        public double? Temperature;

        public override string ToString()
        {
            if (Temperature == null)
            {
                return $"Нет данных";
            }
            else
            {
                return Temperature.ToString();
            }
        }
    }
    //5
    public enum EmploymentStatus { Active, OnLeave, Terminated}
    public class Employee
    {
        public string Name;
        public DateTime? HireDate;
        public EmploymentStatus Status;

        public int GetYearsWorked()
        {
            if (HireDate == null)
            {
                return -1;
            }
            else
            {
                int years = DateTime.Today.Year - HireDate.Value.Year;
                return years;
            }
        }
        public override string ToString()
        {
            return $"{Name}, статус: {Status}, стаж: {HireDate?.ToShortDateString() ?? "нет данных"}";
        }
    }
    internal class Program
    {
        static void Main(string[] args)
        {
            //1
            var c = new Color(255,128,0);
            Console.WriteLine(c);
            var c2 = new Color(100,128,0); 
            Console.WriteLine(c2);
            //2
            var order = new Order {Id = 1001, Total = 1500.50m};
            var order1 = order;
            order1.Total = 2000.00m;
            Console.WriteLine(order.Total);
            //3
            var f = new File { Permissions = FileAccess.Read | FileAccess.Write };
            Console.WriteLine(f.CanRead());
            Console.WriteLine(f.CanWrite());
            //4
            var w1 = new Weather { City = "Москва", Temperature = 22.5 };
            var w2 = new Weather { City = "Сочи", Temperature = null };
            Console.WriteLine(w1);
            Console.WriteLine(w2.Temperature ?? -999);
            //5
            var emp = new Employee { Name = "Екатерина", HireDate = new DateTime(2019,7,2), Status = EmploymentStatus.Active };
            Console.WriteLine(emp.GetYearsWorked());
            emp.HireDate = null;
            Console.WriteLine(emp.GetYearsWorked());
            Console.WriteLine(emp);
        }
    }
}
